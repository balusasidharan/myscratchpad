curl https://start.spring.io/starter.zip \
    -d groupId=com.example \
    -d artifactId=spring-boot-cxf-rs \
    -d name="SpringBootCxfRs" \
    -d description="Demo Spring Boot + CXF JAX-RS project" \
    -d javaVersion=17 \
    -d packaging=jar \
    -d type=maven-project \
    -d dependencies=web \
    -o spring-boot-cxf-rs.zip

package com.example.springbootcxfrs;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

@Path("/hello")
public class HelloResource {

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    public String sayHello() {
        return "Hello from Spring Boot + CXF JAX-RS!";
    }
}


@@@@@@@


package com.example.springbootcxfrs;

import org.apache.cxf.jaxrs.JAXRSServerFactoryBean;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import java.util.Collections;

@Configuration
public class CxfConfig {

    @Bean
    public JAXRSServerFactoryBean jaxRsServer(HelloResource helloResource) {
        JAXRSServerFactoryBean factory = new JAXRSServerFactoryBean();
        factory.setServiceBeans(Collections.singletonList(helloResource));
        // The address where CXF will serve this resource
        factory.setAddress("/api");  
        return factory;
    }
}




######


package com.example.springbootcxfrs;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.web.server.LocalServerPort;
import org.springframework.boot.test.web.client.TestRestTemplate;
import static org.junit.jupiter.api.Assertions.*;

@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
class HelloResourceIntegrationTest {

    @LocalServerPort
    private int port;

    @Autowired
    private TestRestTemplate restTemplate;

    @Test
    void testHelloEndpoint() {
        // Build the local URL, e.g., http://localhost:12345/api/hello
        String url = "http://localhost:" + port + "/api/hello";

        // Perform GET request
        String response = restTemplate.getForObject(url, String.class);

        // Check that the response contains your expected text
        assertTrue(response.contains("Hello from Spring Boot + CXF JAX-RS"),
                   "Response should contain the expected greeting");
    }
}
